function togglePlayButton(){audio.paused?($("#play").show(),$("#pause").hide()):($("#play").hide(),$("#pause").show())}function addActiveStationStyle(){removeActiveStationStyle();var t=audio.getAttribute("src"),a=$(".stationsList>ul").find("[data-source='"+t+"']");a.removeClass("stationLi").addClass("activeStationLi")}function removeActiveStationStyle(){var t=$(".activeStationLi");t.removeClass("activeStationLi").addClass("stationLi")}function showNextPrevButtons(){audio.paused?($("#prev").prop("disabled",!0),$("#next").prop("disabled",!0)):($("#prev").prop("disabled",!1),$("#next").prop("disabled",!1))}$(document).ready(function(){function t(t,a,o){if(audio){audio.setAttribute("src",t),audio.load(),audio.onerror=function(){var a=$(".stationsList>ul").find("[data-source='"+t+"']");a.removeClass("activeStationLi").removeClass("stationLi").addClass("errorStation")};var e=$("#volume").val();audio.volume=parseFloat(e/100),audio.play(),$(".sourceName").text(o),$(".logoInPlayer").attr("src","/assets/images/logos/"+a+".jpg"),$(".logoInPlayer").attr("alt",o),togglePlayButton(),addActiveStationStyle();var s=515,i=$(window).width();i>768&&991>i?s=415:i>551&&768>=i?s=315:550>=i&&(s=250);var l=$(".stationsList>ul").find("[data-source='"+t+"']");$("html, body").animate({scrollTop:l.offset().top-s},1e3)}}function a(){var t=125,a=0,o=$("#player"),e=$("#playerLogoBlock"),s=$(this).scrollTop(),i=$(".container").width();s>t?($("body").prepend(o),o.removeClass("player").addClass("topNavFixed"),o.find(".row").width(i).css("margin","0 auto"),o.css("width","100%"),o.css("top",a),e.removeClass("col-md-4").removeClass("col-sm-4").removeClass("col-xs-4").addClass("col-md-1").addClass("col-sm-2").addClass("col-xs-2"),e.parent().children().length<4&&e.before("<div class='col-md-3 col-sm-2 col-xs-2'></div>"),$(".sourceName").hide(),$(".logoInPlayer").css({"margin-top":2,"margin-right":0}),0==e.parent().children().eq(0).children().length&&($(".logo").clone().appendTo(e.parent().children().eq(0)),$(".topNavFixed .logo").find(".fmka-logo").css("width","50px"),$(".topNavFixed .logo a").append("<span class='fmka-fix-player-text'>FMka.in.ua</span>"))):($(".content").prepend(o),o.removeClass("topNavFixed").addClass("player"),o.removeAttr("style"),e.removeClass("col-md-1").removeClass("col-sm-2").removeClass("col-xs-2").addClass("col-md-4").addClass("col-sm-4").addClass("col-xs-4"),e.parent().children().length>=4&&e.parent().children().eq(0).detach(),$(".sourceName").show(),$(".logoInPlayer").removeAttr("style"))}function o(t){var a=t.attr("src");audio.muted?(audio.muted=!1,t.attr("src",a.replace(/\-mute\.png/,".png"))):(audio.muted=!0,t.attr("src",a.replace(/\.png/,"-mute.png")))}function e(a){var o="";o=a.is(":last-child")?$(".stationsList>ul li").first():a.next("li");var e=o.attr("data-source"),s=o.attr("data-logo"),i=o.attr("data-name");t(e,s,i)}var s=$.cookie("volume");s&&$("#volume").val(s),$(".stationLi").click(function(){if($(this).hasClass("stationLi")){var a=$(this).data("source"),o=$(this).attr("data-name"),e=$(this).attr("data-logo");t(a,e,o)}else $(this).hasClass("activeStationLi")&&(removeActiveStationStyle(),audio.pause(),togglePlayButton());showNextPrevButtons()}),$('[data-toggle="tooltip"]').tooltip(),$(".menu_btn").on("click",function(){$(this).toggleClass("close_button").closest("body").find(".overlayBox").toggleClass("show"),$("header>div").first().toggleClass("header-wrap-fixed");var t=$(".container").width();$(".header-wrap-fixed").width(t)}),$(".menu_sublist_caption").on("click",function(){$(this).toggleClass("clicked").closest(".m__menu_item").find(".m__menu_sublist").slideToggle()}),$(window).scroll(function(){$(".overlayBox").hasClass("show")||a()}),$(".close_button").click(function(){$(".overlayBox").hasClass("show")||a()}),$(".volume-mute").click(function(){o($(this))}),showNextPrevButtons(),$("#next").click(function(){var t=audio.getAttribute("src"),a=$(".stationsList>ul").find("[data-source='"+t+"']");e(a)}),$("#prev").click(function(){var a="",o=audio.getAttribute("src"),e=$(".stationsList>ul").find("[data-source='"+o+"']");a=e.is(":first-child")?$(".stationsList>ul li").last():e.prev("li");var s=a.attr("data-source"),i=a.attr("data-logo"),l=a.attr("data-name");t(s,i,l)})});